
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Using the Fresnel module &#8212; pySCATMECH 0.1.6 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Using the BRDF module" href="UsingBRDF.html" />
    <link rel="prev" title="Using the Mueller module" href="UsingMueller.html" />
<link rel="stylesheet" href="https://pages.nist.gov/nist-header-footer/css/nist-combined.css">
  <script src="https://code.jquery.com/jquery-1.12.4.min.js" type="text/javascript"></script>
  <script src="https://pages.nist.gov/nist-header-footer/js/nist-header-footer.js" type="text/javascript" defer="defer"></script>

<script async type="text/javascript" id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=NIST&subagency=github&pua=UA-66610693-1&yt=true&exts=ppsx,pps,f90,sch,rtf,wrl,txz,m1v,xlsm,msi,xsd,f,tif,eps,mpg,xml,pl,xlt,c">
</script>

  
<script type="text/javascript" src="https://pages.nist.gov/leaveNotice/js/jquery.leaveNotice-nist.min.js"></script>
<script>
$(document).ready(function(){
  // Mark external (non-nist.gov) A tags with class "external"
  //If the adress start with https and ends with nist.gov
  var re_nist = new RegExp('^https?:\/\/((^\/)*\.)*nist\\.gov(\/|$)');
  //Regex to find address that start with https
  var re_absolute_address = new RegExp('^((https?:)?\/\/)');
  $("a").each(function(){
    var url=$(this).attr('href');
    if(re_nist.test(url) || !re_absolute_address.test(url)){
      $(this).addClass('local');
    }else{
      //This a href appears to be external, so tag it
      $(this).addClass('external');
    }
  });
  // Add leaveNotice to external A elements
  $('a.external').leaveNotice();
});
</script>
<link rel="stylesheet" type="text/css" href="https://pages.nist.gov/leaveNotice/css/jquery.leaveNotice.css" />


  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="UsingBRDF.html" title="Using the BRDF module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="UsingMueller.html" title="Using the Mueller module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pySCATMECH 0.1.6 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using the Fresnel module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="Using-the-Fresnel-module">
<h1>Using the Fresnel module<a class="headerlink" href="#Using-the-Fresnel-module" title="Permalink to this heading">¶</a></h1>
<p>In this section, we will describe how to use the <code class="docutils literal notranslate"><span class="pre">Fresnel</span></code> module of <code class="docutils literal notranslate"><span class="pre">pySCATMECH</span></code>. This module defines the classes <code class="docutils literal notranslate"><span class="pre">OpticalFunction</span></code>, <code class="docutils literal notranslate"><span class="pre">Film</span></code>, and <code class="docutils literal notranslate"><span class="pre">FilmStack</span></code>. The last can be used to calculate the reflectance and transmittance of a stack of thin films on a substrate.</p>
<p>We start by importing the package and importing <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, which we use for some graphing:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pySCATMECH.fresnel</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.ticker</span> <span class="k">as</span> <span class="nn">ticker</span>
</pre></div>
</div>
</div>
<section id="OpticalFunction-class">
<h2>OpticalFunction class<a class="headerlink" href="#OpticalFunction-class" title="Permalink to this heading">¶</a></h2>
<p>The optical properties of a material can be stored with the class <code class="docutils literal notranslate"><span class="pre">OpticalFunction</span></code>. Here we create some materials by defining their optical functions. An optical function can be obtained from a file containing a table of wavelengths (<span class="math notranslate nohighlight">\(\lambda\)</span>), optical constant (<span class="math notranslate nohighlight">\(n\)</span>), and extinction coefficient (<span class="math notranslate nohighlight">\(k\)</span>). Or it can be defined as a complex number <span class="math notranslate nohighlight">\(n+\mathrm{i}k\)</span>. Since optical functions are a function of wavelength, one can create them as a function. If you create them as
a function, they need to be tabulated at discrete wavelengths in order for SCATMECH to use them as interpolation tables. Note that doing that will create temporary files.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wavelengths</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">0.01</span><span class="p">)</span>

<span class="c1"># The following looks for a file named &quot;silicon&quot;</span>
<span class="c1"># Assume that &quot;silicon&quot; exists on your computer...</span>
<span class="n">silicon</span> <span class="o">=</span> <span class="n">OpticalFunction</span><span class="p">(</span><span class="s2">&quot;silicon&quot;</span><span class="p">)</span>

<span class="c1"># A fixed real index:</span>
<span class="n">glass</span> <span class="o">=</span> <span class="n">OpticalFunction</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>

<span class="c1"># A metal, i.e., a complex index of refraction:</span>
<span class="n">aMetal</span> <span class="o">=</span> <span class="n">OpticalFunction</span><span class="p">(</span><span class="mf">1.4</span><span class="o">+</span><span class="mf">2.1</span><span class="n">j</span><span class="p">)</span>

<span class="c1"># A material with a Cauchy dispersion, given as a lambda function</span>
<span class="c1"># When providing a function, one must provide an iterable list of wavelengths because</span>
<span class="c1"># the function is tabulated.</span>
<span class="n">SiO2</span> <span class="o">=</span> <span class="n">OpticalFunction</span><span class="p">(</span><span class="k">lambda</span> <span class="n">L</span><span class="p">:</span> <span class="mf">1.4580</span> <span class="o">+</span> <span class="mf">0.00354</span><span class="o">/</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">wavelengths</span><span class="p">)</span>

<span class="c1"># A couple materials with Sellmeier functions...</span>
<span class="n">MgF</span> <span class="o">=</span> <span class="n">OpticalFunction</span><span class="p">(</span><span class="k">lambda</span> <span class="n">L</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mf">0.48755108</span><span class="o">*</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mf">0.04338408</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                                           <span class="o">+</span><span class="mf">0.39875031</span><span class="o">*</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mf">0.09461442</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                                           <span class="o">+</span><span class="mf">2.3120353</span><span class="o">*</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mf">23.793604</span><span class="o">**</span><span class="mi">2</span><span class="p">)),</span>
                                             <span class="n">wavelengths</span><span class="p">)</span>

<span class="n">ZnO</span> <span class="o">=</span> <span class="n">OpticalFunction</span><span class="p">(</span><span class="k">lambda</span> <span class="n">L</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mf">1.347091</span><span class="o">*</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mf">0.062543</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                                           <span class="o">+</span><span class="mf">2.117788</span><span class="o">*</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mf">0.166739</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                                           <span class="o">+</span><span class="mf">9.452943</span><span class="o">*</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">L</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mf">24.320570</span><span class="o">**</span><span class="mi">2</span><span class="p">)),</span>
                                             <span class="n">wavelengths</span><span class="p">)</span>

<span class="c1"># It is useful to have one for vacuum:</span>
<span class="n">vacuum</span> <span class="o">=</span> <span class="n">OpticalFunction</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">wavelengths</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">0.001</span><span class="p">)</span>

<span class="c1"># Plot the curves...</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="p">[</span><span class="n">silicon</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">real</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Si n&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="p">[</span><span class="n">silicon</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">imag</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Si k&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="p">[</span><span class="n">glass</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;glass&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="p">[</span><span class="n">SiO2</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;SiO2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="p">[</span><span class="n">MgF</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;MgF&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="p">[</span><span class="n">ZnO</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;ZnO&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Wavelength (µm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Optical Constants&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="Graph showing results of preceding Python code: Optical constants for several materials as functions of wavelength" src="_images/UsingFresnel_4_0.svg" /></div>
</div>
</section>
<section id="Film-class">
<h2>Film class<a class="headerlink" href="#Film-class" title="Permalink to this heading">¶</a></h2>
<p>The class <code class="docutils literal notranslate"><span class="pre">Film</span></code> handles the properties of a film, namely, its optical function and its thickness. There are basically two ways to create a <code class="docutils literal notranslate"><span class="pre">Film</span></code>: with a thickness (length) or with an optical thickness (length relative to wavelength in the material). (SCATMECH assumes lengths are in micrometers, although any user can use another unit, provided that unit is consistently used everywhere.)</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a film of ZnO (defined above) of thickness 0.5 micrometers...</span>
<span class="n">film1</span> <span class="o">=</span> <span class="n">Film</span><span class="p">(</span><span class="n">ZnO</span><span class="p">,</span> <span class="n">thickness</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># Create a quarter-wave thickness of ZnO for wavelength 0.5 micrometers...</span>
<span class="n">film2</span> <span class="o">=</span> <span class="n">Film</span><span class="p">(</span><span class="n">ZnO</span><span class="p">,</span> <span class="n">waves</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">wavelength</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="c1"># create a quarter-wave thickness of ZnO for wavelength 0.5 micrometers for 45 degrees incidence...</span>
<span class="n">film3</span> <span class="o">=</span> <span class="n">Film</span><span class="p">(</span><span class="n">ZnO</span><span class="p">,</span> <span class="n">waves</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">wavelength</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">angle</span> <span class="o">=</span> <span class="mi">45</span><span class="o">*</span><span class="n">deg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>One of the properties of <code class="docutils literal notranslate"><span class="pre">Film</span></code> is that we can multiply a film by a scalar to obtain a film, say, twice as thick. This feature can be used to create high/low stacks in an intuitive way. FOr example, we can create a notch filter.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H</span> <span class="o">=</span> <span class="n">Film</span><span class="p">(</span><span class="n">ZnO</span><span class="p">,</span> <span class="n">waves</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">wavelength</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">L</span> <span class="o">=</span> <span class="n">Film</span><span class="p">(</span><span class="n">MgF</span><span class="p">,</span> <span class="n">waves</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">wavelength</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="n">notch_filter</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="p">[</span><span class="n">H</span><span class="p">,</span><span class="n">L</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">H</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="p">[</span><span class="n">L</span><span class="p">,</span><span class="n">H</span><span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="FilmStack-class">
<h2>FilmStack class<a class="headerlink" href="#FilmStack-class" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">FilmStack</span></code> class handles a stack of films. Most importantly, it allows us to calculate the reflection or transmission properties for radiation incident on one material to another with a stack of films in between. We will start our demonstration of the <code class="docutils literal notranslate"><span class="pre">FilmStack</span></code> class with an empty one.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">FilmStack</span></code> methods that return reflection or transmission properties take four or five parameters. * The angle of incidence in radians * The wavelength (as measured in vacuum) * The <code class="docutils literal notranslate"><span class="pre">OpticalFunction</span></code> for the medium the radiation is incident from * The <code class="docutils literal notranslate"><span class="pre">OpticalFunction</span></code> for the medium the radiation will transmit to * Optional: a string ‘12’, ‘21’, ‘12i’, or ‘21i’. The default is ‘12’, which means that the stack of films is to be evaluated as if the first <code class="docutils literal notranslate"><span class="pre">Film</span></code> is closest to the
medium the radiation will transmit to. ‘21’ means the stack of films is to be evaluated as if the first <code class="docutils literal notranslate"><span class="pre">Film</span></code> is closest to the medium the radiation is incident from. The ‘i’ indicates that the angle is expressed as the incident angle in the incident medium. By default (no ‘i’), the angle is expressed as a vacuum angle.</p>
<p>So, let’s see what the 60° reflectance of silicon is at 0.532 µm.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stack</span> <span class="o">=</span> <span class="n">FilmStack</span><span class="p">()</span>

<span class="n">wavelength</span> <span class="o">=</span> <span class="mf">0.500</span>

<span class="c1"># Return a Jones matrix</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">reflectionCoefficient</span><span class="p">(</span><span class="mi">60</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jones matrix = </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Return a Mueller matrix</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">R</span><span class="p">(</span><span class="mi">60</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mueller matrix = </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Return the s and p reflectance</span>
<span class="n">Rs</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">Rs</span><span class="p">(</span><span class="mi">60</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span>
<span class="n">Rp</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">Rp</span><span class="p">(</span><span class="mi">60</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Rs = &quot;</span><span class="p">,</span><span class="n">Rs</span><span class="p">,</span><span class="s2">&quot;, Rp = &quot;</span><span class="p">,</span><span class="n">Rp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Jones matrix =
 [[(-0.7875336574103252-0.001629630653451164j), 0j], [0j, (0.37351472018980436+0.003391942682930761j)]]

Mueller matrix =
 [[ 0.37986833  0.24034358  0.          0.        ]
 [ 0.24034358  0.37986833  0.          0.        ]
 [ 0.          0.         -0.29416094  0.00206258]
 [ 0.          0.         -0.00206258 -0.29416094]]

Rs =  0.6202119172501502 , Rp =  0.13952475147363208
</pre></div></div>
</div>
<p>Let’s calculate the reflectance of silicon as a function of angle.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">thetas</span><span class="o">=</span><span class="p">[</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">)]</span>
<span class="n">Rs</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">Rs</span><span class="p">(</span><span class="n">t</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">thetas</span><span class="p">]</span>
<span class="n">Rp</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">Rp</span><span class="p">(</span><span class="n">t</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">thetas</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">thetas</span><span class="p">,</span> <span class="n">Rs</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$R_\mathrm</span><span class="si">{s}</span><span class="s2">$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">thetas</span><span class="p">,</span> <span class="n">Rp</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$R_\mathrm</span><span class="si">{p}</span><span class="s2">$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Reflectance of silicon at &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">wavelength</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; µm&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\theta$ (degrees)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Reflectance&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="Graph showing results of preceding Python code: Reflectance of silicon as a function of angle" src="_images/UsingFresnel_12_0.svg" /></div>
</div>
<p>Let’s calculate that reflectance as a function of wavelength for an angle of incidence of 70°.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">wavelengths</span> <span class="o">=</span> <span class="p">[</span><span class="n">L</span> <span class="k">for</span> <span class="n">L</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)]</span>
<span class="n">Rs</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">Rs</span><span class="p">(</span><span class="mi">70</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span> <span class="k">for</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">]</span>
<span class="n">Rp</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">Rp</span><span class="p">(</span><span class="mi">70</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span> <span class="k">for</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">Rs</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$R_\mathrm</span><span class="si">{s}</span><span class="s2">(\lambda)$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">Rp</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$R_\mathrm</span><span class="si">{p}</span><span class="s2">(\lambda)$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Reflectance of silicon at 70° incidence&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;$\lambda$ (µm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Reflectance&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="Graph showing results of preceding Python code: Reflectance of silicon as a function of wavelength" src="_images/UsingFresnel_14_0.svg" /></div>
</div>
<p>Finally, let’s calculate the ellipsometric parameters <span class="math notranslate nohighlight">\(\Psi\)</span> and <span class="math notranslate nohighlight">\(\Delta\)</span> as a function of wavelength.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">wavelengths</span> <span class="o">=</span> <span class="p">[</span><span class="n">L</span> <span class="k">for</span> <span class="n">L</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)]</span>
<span class="n">M</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">R</span><span class="p">(</span><span class="mi">70</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span> <span class="k">for</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">]</span>
<span class="n">delta</span> <span class="o">=</span> <span class="p">[(</span><span class="n">m</span> <span class="o">@</span> <span class="n">Polarization</span><span class="p">(</span><span class="n">angle</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">deg</span><span class="p">))</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">M</span><span class="p">]</span>
<span class="n">psi</span> <span class="o">=</span> <span class="p">[(</span><span class="n">m</span> <span class="o">@</span>  <span class="n">Polarization</span><span class="p">(</span><span class="n">angle</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">deg</span><span class="p">))</span><span class="o">.</span><span class="n">psi</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">M</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">delta</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$\Delta(\lambda)$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">psi</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$\Psi(\lambda)$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Ellipsometric parameters&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;$\lambda$ (µm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$\Psi$, $\Delta$ (rad)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="Graph showing results of preceding Python code: Ellipsometric parameters for silicon as a function of wavelength" src="_images/UsingFresnel_16_0.svg" /></div>
</div>
<p>That isn’t a very interesting film stack. The <code class="docutils literal notranslate"><span class="pre">grow()</span></code> method allows us to grow films on the substrate. The <code class="docutils literal notranslate"><span class="pre">clean()</span></code> method wipes all of the films off. Let’s see what the ellipsometric parameters do when we add films of thickness 0 µm, 0.01 µm, 0.02 µm, and 0.03 µm.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stack</span> <span class="o">=</span> <span class="n">FilmStack</span><span class="p">()</span>
<span class="n">film</span> <span class="o">=</span> <span class="n">Film</span><span class="p">(</span><span class="n">SiO2</span><span class="p">,</span> <span class="n">thickness</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="n">film</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">wavelengths</span> <span class="o">=</span> <span class="p">[</span><span class="n">L</span> <span class="k">for</span> <span class="n">L</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)]</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">]:</span>
    <span class="n">stack</span><span class="o">.</span><span class="n">clean</span><span class="p">()</span>
    <span class="n">stack</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="n">Film</span><span class="p">(</span><span class="n">SiO2</span><span class="p">,</span> <span class="n">thickness</span> <span class="o">=</span> <span class="n">t</span><span class="p">))</span>

    <span class="n">M</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">R</span><span class="p">(</span><span class="mi">70</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">silicon</span><span class="p">)</span> <span class="k">for</span> <span class="n">wavelength</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">]</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="p">[(</span><span class="n">m</span> <span class="o">@</span> <span class="n">StokesVector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">delta</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">M</span><span class="p">]</span>
    <span class="n">psi</span> <span class="o">=</span> <span class="p">[(</span><span class="n">m</span> <span class="o">@</span> <span class="n">StokesVector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">psi</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">M</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">delta</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">psi</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Ellipsometric parameters&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;$\lambda$ (µm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$\Psi$, $\Delta$ (rad)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="Graph showing results of preceding Python code: Ellipsometric parameters for films on silicon as a function of wavelength" src="_images/UsingFresnel_18_0.svg" /></div>
</div>
<p>We can also look at transmission. Here is the angle dependence of the transmission of a quarter wave MgF coating on glass.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stack</span> <span class="o">=</span> <span class="n">FilmStack</span><span class="p">()</span>

<span class="n">substrate</span> <span class="o">=</span> <span class="n">SiO2</span>
<span class="n">wavelength</span> <span class="o">=</span> <span class="mf">0.500</span>
<span class="n">stack</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="n">Film</span><span class="p">(</span><span class="n">MgF</span><span class="p">,</span> <span class="n">waves</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">wavelength</span><span class="o">=</span><span class="n">wavelength</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">()</span>
<span class="n">thetas</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">)])</span>
<span class="n">Rs</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">Rs</span><span class="p">(</span><span class="n">theta</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">substrate</span><span class="p">)</span> <span class="k">for</span> <span class="n">theta</span> <span class="ow">in</span> <span class="n">thetas</span><span class="p">]</span>
<span class="n">Rp</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">Rp</span><span class="p">(</span><span class="n">theta</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">substrate</span><span class="p">)</span> <span class="k">for</span> <span class="n">theta</span> <span class="ow">in</span> <span class="n">thetas</span><span class="p">]</span>
<span class="n">Ts</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">Ts</span><span class="p">(</span><span class="n">theta</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">substrate</span><span class="p">)</span> <span class="k">for</span> <span class="n">theta</span> <span class="ow">in</span> <span class="n">thetas</span><span class="p">]</span>
<span class="n">Tp</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">Tp</span><span class="p">(</span><span class="n">theta</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">substrate</span><span class="p">)</span> <span class="k">for</span> <span class="n">theta</span> <span class="ow">in</span> <span class="n">thetas</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">thetas</span><span class="p">,</span> <span class="n">Rs</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Rs&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">thetas</span><span class="p">,</span> <span class="n">Rp</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Rp&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">thetas</span><span class="p">,</span> <span class="n">Ts</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Ts&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">thetas</span><span class="p">,</span> <span class="n">Tp</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Tp&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">95</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Angle&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Reflectance, Transmittance&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Reflectance and Transmittance of a $\lambda/4$ MgF film on SiO$_2$&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">AddDegrees</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">Formatter</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">pos</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;$</span><span class="si">%g</span><span class="s2"> \degree$&quot;</span><span class="o">%</span> <span class="n">x</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">AddDegrees</span><span class="p">())</span>
<span class="k">class</span> <span class="nc">AddPercent</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">Formatter</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">pos</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%g</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span><span class="o">+</span><span class="s2">&quot; %&quot;</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">AddPercent</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="Graph showing results of preceding Python code: Reflectance and transmittance for films on silicon as a function of angle" src="_images/UsingFresnel_20_0.svg" /></div>
</div>
<p>Let’s create with some high-low stacks. Note that we can create <code class="docutils literal notranslate"><span class="pre">FilmStack</span></code> from a list of <code class="docutils literal notranslate"><span class="pre">Film</span></code>. In the following, we create a series of curves containing various numbers of low-high pairs. A twenty-pair stack, for example, can be created by <code class="docutils literal notranslate"><span class="pre">FilmStack(20*[L,H])</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">L</span> <span class="o">=</span> <span class="n">Film</span><span class="p">(</span><span class="n">MgF</span><span class="p">,</span> <span class="n">waves</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">wavelength</span><span class="o">=</span><span class="mf">0.500</span><span class="p">)</span>
<span class="n">H</span> <span class="o">=</span> <span class="n">Film</span><span class="p">(</span><span class="n">ZnO</span><span class="p">,</span> <span class="n">waves</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">wavelength</span><span class="o">=</span><span class="mf">0.500</span><span class="p">)</span>

<span class="n">substrate</span> <span class="o">=</span> <span class="n">glass</span>

<span class="k">def</span> <span class="nf">pltFilm</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="n">FilmStack</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
    <span class="n">wavelengths</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
    <span class="n">Rs</span> <span class="o">=</span> <span class="p">[</span><span class="n">stack</span><span class="o">.</span><span class="n">Rs</span><span class="p">(</span><span class="mi">0</span><span class="o">*</span><span class="n">deg</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="n">vacuum</span><span class="p">,</span> <span class="n">substrate</span><span class="p">)</span> <span class="k">for</span> <span class="n">L</span> <span class="ow">in</span> <span class="n">wavelengths</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">wavelengths</span><span class="p">,</span> <span class="n">Rs</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Buildup of a high reflector&quot;</span><span class="p">)</span>
<span class="n">pltFilm</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">[</span><span class="n">L</span><span class="p">,</span><span class="n">H</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;2 LH&quot;</span><span class="p">)</span>
<span class="n">pltFilm</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="p">[</span><span class="n">L</span><span class="p">,</span><span class="n">H</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;3 LH&quot;</span><span class="p">)</span>
<span class="n">pltFilm</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="p">[</span><span class="n">L</span><span class="p">,</span><span class="n">H</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;4 LH&quot;</span><span class="p">)</span>
<span class="n">pltFilm</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="p">[</span><span class="n">L</span><span class="p">,</span><span class="n">H</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;10 LH&quot;</span><span class="p">)</span>
<span class="n">pltFilm</span><span class="p">(</span><span class="mi">20</span><span class="o">*</span><span class="p">[</span><span class="n">L</span><span class="p">,</span><span class="n">H</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;20 LH&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Wavelength (µm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Reflectance&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/><br/><br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="Graph showing results of preceding Python code: Reflectance for different Bragg reflectors as a function of wavelength" src="_images/UsingFresnel_22_0.svg" /></div>
</div>
<p>Here is a notch filter, which consists of a 2H layer between two high reflectors.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Notch filter&quot;</span><span class="p">)</span>
<span class="n">pltFilm</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="p">[</span><span class="n">H</span><span class="p">,</span><span class="n">L</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">H</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="p">[</span><span class="n">L</span><span class="p">,</span><span class="n">H</span><span class="p">],</span><span class="s2">&quot;5(H,L)+2H+5(L,H)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Wavelength (µm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Reflectance&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="Graph showing results of preceding Python code: Reflectance for a notch filter as a function of wavelength" src="_images/UsingFresnel_24_0.svg" /></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Using the Fresnel module</a><ul>
<li><a class="reference internal" href="#OpticalFunction-class">OpticalFunction class</a></li>
<li><a class="reference internal" href="#Film-class">Film class</a></li>
<li><a class="reference internal" href="#FilmStack-class">FilmStack class</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="UsingMueller.html"
                          title="previous chapter">Using the Mueller module</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="UsingBRDF.html"
                          title="next chapter">Using the BRDF module</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/UsingFresnel.ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="UsingBRDF.html" title="Using the BRDF module"
             >next</a> |</li>
        <li class="right" >
          <a href="UsingMueller.html" title="Using the Mueller module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pySCATMECH 0.1.6 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using the Fresnel module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>